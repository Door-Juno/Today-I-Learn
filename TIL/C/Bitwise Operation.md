# Bitwise Operation (24.10.08 화요일)
### 1. 개념 
주어진 이진수를 비트단위로 비교하거나 이동시키며 직접 계산할 수 있다.  
비트 단위 연산을 함으로써 직관적이로 빠른 계산이 가능하며, 작동 시간 자체도 짧은게 장점이다.  
주로 System Programming이나 성능을 중시하는 프로그래밍에서 사용된다.  
(ex.하드웨어 제어, 암호화, 그래픽 처리 등)  

### 2. Operaters   
1. **and ( & )**  : 두 비트를 직접 비교하여 and연산을 한다.  
    ex) 1001 & 1101 = 1001 (두 비트가 모두 1일때 1)    

2. **or ( | )** : 두 비트를 직접 비교하여 or 연산을 한다.  
    ex) 1001 | 1101 = 1101 (두 비트가 하나라도 1이면 1)   

3. **Xor ( ^ )** : 두 비트가 서로 다르면 1 , 같으면 0.  
    ex) 1001 ^ 1101 = 0100    

4. **Not ( ~ )** : 비트 값을 반전시킨다.  
    ex) ~ 1101 = 0010  

5. **왼쪽 쉬프트 ( << )** : 비트를 왼쪽으로 n번 이동시키며 우측에 빈자리는 제거 혹은 0으로 채운다.  
    ex) 1010 << 2 = 101000 = 1000 (비트 수를 초과하는 왼쪽의 10은 제거된다.)    

    **2의 거듭제곱을 하는 효과가 있다.**  
    5 << 1 = 5 X ( 2 ^ 1 ) = 10  
    5 << 2 = 5 X ( 2 ^ 2 ) = 20 ...  
    원리는 5 = 0011(2^1 + 2^0)인데, 5 << 1 = 0110(2^2 + 2^1)이므로 전체에 2를 거듭제곱 한것이 맞음 ...

6. **오른쪽 쉬프트 ( >> )** : 비트를 오른쪽으로 n번 이동시키며 좌측의 빈자리는 제거하거나 0으로 채운다.  
    ex) 1010 >> 1 = 0101  
    왼쪽 쉬프트 경우와 반대로 **2의 거듭제곱으로 나누는 효과가 있다.**  

### 3. 비트 추출하기   
특정 숫자의 n번째 비트를 추출하려면 오른쪽 쉬프트를 n번 이용한 후 and (&) 연산을 이용해 마지막 비트를 추출할 수 있다.  
```cpp
int bit = (N >>i)&1 ; 
// N의 i번째 자리의 비트를 오른쪽으로 i번 이동 ( 마지막 비트가 된다. )
// 그 이후 1은 ...0001 이므로 마지막 자리만 비교한다는 개념이다.
```  
### 4. 비트 카운팅  
1. 비트를 처음부터 끝까지 하나씩 검사  
```cpp
int count = 0 ;
for ( int i = 0 ; i < sizeof(N)*8 ; i++){
    if(( N >> i ) & 1 ){
        count ++ ;
    }
}
// 비트의 길이 모두 비교하여 추출하여야한다. 
// 근데 비트가 0000 0000 ..... 1101 1101 이라면 굳이 앞부분 0으로 도배된 부분을 계산해야할까 ?
```  
2. N & (N - 1)을 이용한 최적화
``` cpp 
int count = 0;
while (N > 0) {
    N = N & (N - 1);  // 가장 오른쪽에 있는 1을 제거
    count++;
}
// N을 비교하며 1씩 빼가는거다. N=0이 되는순간 종료 ... 불필요한 연산을 줄인다.
```  
3. 0의 갯수  
0의 갯수를 세도 좋긴한데... 0이나 1중 하나를 구했다면 전체 비트수에서 구한 값을 빼면 다른 한 수의 갯수가 나온다.  
**2진수임을 잊지말자**

### 5. MSB(최상위 비트) & LSB(최하위 비트)  
MSB(최상위 비트)는 제일 왼쪽에 있는 비트이다.  
sizeof(N) * 8 -1 번째 자리에 있음 
```cpp
int msb = ( N >> sizeof(N) *  8 - 1 ) & 1 ;
```  
LSB(최하위 비트)는 위에 말한대로 N & 1 하면 구할 수 있다.  
### 6. 비트 마스크   
특정 비트를 조작하거나 확인할때 사용한다. or ( | ) 연산을 이용해 변환한다.  
```cpp
N = N | ( 1 << 3 );  // 3번째 비트를 1로 고친다.  
// xxxx |(or) 0100
```